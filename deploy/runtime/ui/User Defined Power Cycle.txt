User Defined Power Cycle
905
1075
21
GroupBox

1
7
Name
5
42
User Defined Power Cycle Design Parameters
X
3
3
Y
3
6
Width
3
899
Height
3
75
Caption
5
42
User Defined Power Cycle Design Parameters
Bold
2
1
Button

1
7
Name
5
14
btn_gen_inputs
X
3
69
Y
3
291
Width
3
114
Height
3
26
Caption
5
15
Generate Inputs
TabOrder
3
4294967295
GroupBox

1
7
Name
5
9
object 42
X
3
3
Y
3
90
Width
3
899
Height
3
978
Caption
5
86
Performance as Function of HTF Temperature, HTF Mass Flow Rate and Ambient Temperature
Bold
2
1
Label

1
12
Name
5
10
object 722
X
3
18
Y
3
111
Width
3
603
Height
3
24
Caption
5
60
Low, design, and high parameter values for input generation:
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Numeric

1
16
Name
5
17
ud_COPY_T_HTF_des
X
3
183
Y
3
165
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
17
ud_COPY_T_amb_des
X
3
768
Y
3
165
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
12
ud_T_amb_des
X
3
234
Y
3
27
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
13
ud_T_amb_high
X
3
768
Y
3
189
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
15
ud_T_amb_levels
X
3
768
Y
3
228
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
0
Format
3
1
Decimals
3
0
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
12
ud_T_amb_low
X
3
768
Y
3
141
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
13
ud_T_htf_high
X
3
183
Y
3
189
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
15
ud_T_htf_levels
X
3
183
Y
3
228
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
0
Format
3
1
Decimals
3
0
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
12
ud_T_htf_low
X
3
183
Y
3
141
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
18
ud_W_dot_cool_calc
X
3
648
Y
3
51
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
19
ud_f_W_dot_cool_des
X
3
648
Y
3
27
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
DataMatrix

1
22
Name
5
9
ud_ind_od
X
3
183
Y
3
288
Width
3
480
Height
3
750
PasteAppendRows
2
1
PasteAppendCols
2
0
ShowRows
2
1
ShowRowLabels
2
0
RowLabels
5
0
ShadeR0C0
2
0
ShadeC0
2
0
ShowCols
2
1
ShowColLabels
2
1
ColLabels
5
76
HTF Temp. , HTF ṁ , Ambient Temp. , Ẇ cycle , Heat in , Ẇ cooling , ṁ water 
NumRowsLabel
5
5
Rows:
NumColsLabel
5
5
Cols:
Layout
3
0
ChoiceColumn
3
4294967295
Choices
5
15
Choice1,Choice2
HideColumn
3
4294967295
ShowColumn
3
4294967295
Numeric

1
16
Name
5
15
ud_m_dot_design
X
3
477
Y
3
165
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
17
ud_m_dot_htf_high
X
3
477
Y
3
189
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
19
ud_m_dot_htf_levels
X
3
477
Y
3
228
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
0
Format
3
1
Decimals
3
0
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
16
ud_m_dot_htf_low
X
3
477
Y
3
141
Width
3
90
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
16
Name
5
23
ud_m_dot_water_cool_des
X
3
234
Y
3
51
Width
3
100
Height
3
21
Value
1
0.000000
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295

20
ud_COPY_T_HTF_des
3
1
Design HTF temperature
°C
Power Cycle
0
8
1
1
1
1
0.000000
Default
ud_COPY_T_amb_des
3
1
Design ambient temperature
°C
Power Cycle
0
8
1
1
1
1
0.000000
Default
ud_T_amb_des
3
1
Ambient temperature
°C
Power Cycle
0
2
1
1
1
1
27.000000
Default
ud_T_amb_high
3
1
High ambient temperature
°C
Power Cycle
0
0
1
1
1
1
55.000000
Default
ud_T_amb_ind_od
3
3
Off-design parametric on ambient temperature
 
Power Cycle
0
1
1
3
1
1
0.000000
DataMatrix
ud_T_amb_levels
3
1
Number of levels
 
Power Cycle
0
0
1
1
1
1
20.000000
Default
ud_T_amb_low
3
1
Low ambient temperature
°C
Power Cycle
0
0
1
1
1
1
0.000000
Default
ud_T_htf_high
3
1
High HTF temperature
°C
Power Cycle
0
0
1
1
1
1
580.000000
Default
ud_T_htf_ind_od
3
3
Off-design parametric on htf temperature
 
Power Cycle
0
1
1
3
1
1
0.000000
DataMatrix
ud_T_htf_levels
3
1
Number of levels
 
Power Cycle
0
0
1
1
1
1
20.000000
Default
ud_T_htf_low
3
1
Low HTF temperature
°C
Power Cycle
0
0
1
1
1
1
500.000000
Default
ud_W_dot_cool_calc
3
1
Gross power consumed by cooling system
MWe
Power Cycle
0
8
1
1
1
1
0.000000
Default
ud_f_W_dot_cool_des
3
1
Gross power consumed by cooling system
%
Power Cycle
0
2
1
1
1
1
0.000000
Default
ud_ind_od
3
3
Off design parametrics
 
Power Cycle
0
1
1
3
3
7
1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 
1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 
1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 

DataMatrix
ud_m_dot_design
3
1
Design normalized HTF ṁ
 
Power Cycle
0
8
1
1
1
1
1.000000
Default
ud_m_dot_htf_high
3
1
High normalized HTF ṁ
 
Power Cycle
0
0
1
1
1
1
1.200000
Default
ud_m_dot_htf_ind_od
3
3
Off-design parametric on HTF mass flow rate
 
Power Cycle
0
1
1
3
1
1
0.000000
DataMatrix
ud_m_dot_htf_levels
3
1
Number of levels
 
Power Cycle
0
0
1
1
1
1
20.000000
Default
ud_m_dot_htf_low
3
1
Low normalized HTF ṁ
 
Power Cycle
0
0
1
1
1
1
0.300000
Default
ud_m_dot_water_cool_des
3
1
Cooling system water usage
kg/s
Power Cycle
0
2
1
1
1
1
0.000000
Default

316
equations{ 'ud_W_dot_cool_calc' } = define(){
	return ${P_ref}*${ud_f_W_dot_cool_des}/100.0; };
	
equations{ 'ud_m_dot_design' } = define(){
	return 1.0; };
	
equations{ 'ud_COPY_T_amb_des' } = define(){
	return ${ud_T_amb_des}; };
	
equations{ 'ud_COPY_T_HTF_des' } = define(){
	return ${PB_COPY_T_htf_hot_des}; };

1975
on_change{'btn_gen_inputs'} = define() {
	//value("ud_ind_od", [[1,2,3,4,5,6,7],[11,22,33,44,55,66,77]]);
	
	T_htf_low = value("ud_T_htf_low");
	T_htf_des = value("ud_COPY_T_HTF_des");
	T_htf_high = value("ud_T_htf_high");
	n_T_htf = value("ud_T_htf_levels");
	m_dot_low = value("ud_m_dot_htf_low");
	m_dot_des = value("ud_m_dot_design");
	m_dot_high = value("ud_m_dot_htf_high");
	n_m_dot = value("ud_m_dot_htf_levels");
	T_amb_low = value("ud_T_amb_low");
	T_amb_des = value("ud_COPY_T_amb_des");
	T_amb_high = value("ud_T_amb_high");
	n_T_amb = value("ud_T_amb_levels");
	
	if ( n_T_htf <= 1 ) {
		T_htf_ini = T_htf_des;
		dT_htf = 0;
	}
	else {
		T_htf_ini = T_htf_low;
		dT_htf = (T_htf_high - T_htf_low) / max((n_T_htf - 1), 1);
	}
	if ( n_m_dot <= 1 ) {
		m_dot_ini = m_dot_des;
		dm_dot = 0;
	}
	else {
		m_dot_ini = m_dot_low;
		dm_dot = (m_dot_high - m_dot_low) / max((n_m_dot - 1), 1);
	}
	if ( n_T_amb <= 1 ) {
		T_amb_ini = T_amb_des;
		dT_amb = 0;
	}
	else {
		T_amb_ini = T_amb_low;
		dT_amb = (T_amb_high - T_amb_low) / max((n_T_amb - 1), 1);
	}
	
	tbl_inputs = [];
	tbl_idx = 0;
	m_dot_lvls = [m_dot_low, m_dot_des, m_dot_high];
	for( i=0; i<#m_dot_lvls; i++) {
		for( j=0; j<n_T_htf; j++ ) {
			row = [];
			row += T_htf_ini + j*dT_htf;
			row += m_dot_lvls[i];
			row += T_amb_des;
			row += [0, 0, 0, 0];
			tbl_inputs[tbl_idx] = row;
			tbl_idx++;
		}
	}

	T_amb_lvls = [T_amb_low, T_amb_des, T_amb_high];
	for( i=0; i<#T_amb_lvls; i++) {
		for( j=0; j<n_m_dot; j++ ) {
			row = [];
			row += T_htf_des;
			row += m_dot_ini + j*dm_dot;
			row += T_amb_lvls[i];
			row += [0, 0, 0, 0];
			tbl_inputs[tbl_idx] = row;
			tbl_idx++;
		}
	}
	
	T_htf_lvls = [T_htf_low, T_htf_des, T_htf_high];
	for( i=0; i<#T_htf_lvls; i++) {
		for( j=0; j<n_T_amb; j++ ) {
			row = [];
			row += T_htf_lvls[i];
			row += m_dot_des;
			row += T_amb_ini + j*dT_amb;
			row += [0, 0, 0, 0];
			tbl_inputs[tbl_idx] = row;
			tbl_idx++;
		}
	}

	value("ud_ind_od", tbl_inputs);
};